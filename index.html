<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Noor Al Huda</title>
<link rel="icon" href="logo.png.png" type="image/png">
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --green:#136f3c;
  --bg:#f5f5f7;
  --text:#1f2937;
  --muted:#6b7280;
  --card:#ffffff;
  --border:#e5e7eb;
  --accent:#0ea5e9;
  --radius:16px;
  --shadow:0 8px 24px rgba(0,0,0,0.12);
}
body{margin:0;font-family:'Nunito',sans-serif;background:var(--bg);color:var(--text);}
header{background:var(--green);color:#fff;padding:1rem 1.5rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 4px rgba(0,0,0,0.1);}
header h1{font-size:1.5rem;font-weight:700;}
header .btn{appearance:none;background:#fff;color:var(--green);border:none;padding:0.5rem 0.8rem;border-radius:var(--radius);font-weight:600;cursor:pointer;}
header .btn:hover{filter:brightness(1.05);}
.container{max-width:1200px;margin:2rem auto;padding:0 1rem;}
.grid{display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));}
/* Cards / Widgets */
.card{background:var(--card);border-radius:var(--radius);padding:1.25rem;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:0.5rem;transition:transform 0.2s ease,box-shadow 0.2s ease;position:relative;}
.card h4{font-weight:700;}
.card p, .card li{color:var(--muted);}
.card a{margin-top:auto;font-weight:700;color:var(--green);text-decoration:none;}
.card a:hover{text-decoration:underline;}
.widget-list{list-style:none;padding-left:0;}
.widget-list li{margin-bottom:0.3rem;}
footer{margin-top:2rem;padding:1.5rem 0;text-align:center;color:var(--muted);font-size:0.9rem;}
body.dark-mode{--bg:#111827;--text:#f9fafb;--muted:#9ca3af;--card:#1f2937;--border:#374151;}
</style>
</head>
<script src="global.js"></script>

<body>
<header>
  <h1><a href="https://nooralhuda.co.uk">Noor Al Huda</a></h1>
  <button class="btn" onclick="location.href='settings.html'">Settings</button>
</header>



<style>
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   ðŸŒ™ Noor al-Huda â€” Refined Apple-like Style
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

:root {
  --green: #127a3d;
  --bg: #f8fafb;
  --text: #1f2937;
  --muted: #6b7280;
  --card: #ffffff;
  --border: #e5e7eb;
  --radius: 20px;
  --shadow-sm: 0 4px 12px rgba(0, 0, 0, 0.08);
  --shadow-md: 0 10px 32px rgba(0, 0, 0, 0.12);
  --shadow-lg: 0 20px 64px rgba(0, 0, 0, 0.18);
  --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Base layout */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Nunito', sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
  padding-top: 3.5rem;
  transition: background 0.3s ease, color 0.3s ease;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   HEADER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  backdrop-filter: blur(14px) saturate(160%);
  background: rgba(19, 111, 60, 0.9);
  color: #fff;
  padding: 0.75rem 1.25rem;
  box-shadow: var(--shadow-sm);
  z-index: 1000;
}

header h1 {
  font-size: 1.4rem;
  font-weight: 700;
  letter-spacing: 0.2px;
  text-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

header .btn {
  background: rgba(255, 255, 255, 0.85);
  color: var(--green);
  border: none;
  border-radius: 12px;
  padding: 0.4rem 0.9rem;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  backdrop-filter: blur(6px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  transition: var(--transition);
}

header .btn:hover {
  transform: translateY(-2px);
  background: #fff;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   WIDGET GRID
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.widget-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 2rem;
  margin: 3rem auto;
  padding: 0 2rem;
  max-width: 1200px;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   WIDGET CARD
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.widget-card {
  position: relative;
  border-radius: var(--radius);
  padding: 1.8rem 1.5rem;
  background: var(--card);
  box-shadow: var(--shadow-md);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transition: var(--transition);
  cursor: pointer;
  overflow: hidden;
}

.widget-card:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow: var(--shadow-lg);
}

/* Themed Widgets */
#salahWidget {
  background: linear-gradient(145deg, #e3f7e6, #bdeec7);
}

#quranWidget {
  background: linear-gradient(145deg, #fff8db, #fff1b8);
}

.widget-card h4 {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--green);
  margin-bottom: 0.5rem;
}

.widget-card p,
.widget-card ul {
  color: var(--muted);
  font-size: 1rem;
  margin-bottom: 1rem;
}

.widget-card a {
  align-self: flex-start;
  text-decoration: none;
  font-weight: 600;
  color: var(--green);
  background: #fff;
  padding: 0.5rem 1rem;
  border-radius: 14px;
  border: 1px solid #c8e6c9;
  box-shadow: var(--shadow-sm);
  transition: var(--transition);
}

.widget-card a:hover {
  background: var(--green);
  color: #fff;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   STATIC CARDS (Hadiths, Duas, etc.)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 2.5rem;
  margin: 2rem auto 4rem;
  padding: 0 2rem;
  max-width: 1200px;
}

.card {
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow-md);
  padding: 1.8rem 1.5rem;
  transition: var(--transition);
  cursor: pointer;
  transform-style: preserve-3d;
}

.card:hover {
  transform: translateY(-10px) rotateX(5deg) rotateY(2deg) scale(1.03);
  box-shadow: var(--shadow-lg);
}

.card h4 {
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--green);
  margin-bottom: 0.5rem;
}

.card p {
  color: var(--muted);
  font-size: 0.95rem;
  margin-bottom: 1rem;
}

.card a {
  text-decoration: none;
  color: var(--green);
  font-weight: 600;
  background: #f9fff9;
  padding: 0.4rem 0.9rem;
  border-radius: 10px;
  transition: var(--transition);
}

.card a:hover {
  background: var(--green);
  color: #fff;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FOOTER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
footer {
  margin-top: 4rem;
  padding: 2rem 1rem;
  text-align: center;
  color: var(--muted);
  font-size: 0.95rem;
  border-top: 1px solid var(--border);
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   RESPONSIVE DESIGN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
@media (max-width: 768px) {
  header h1 {
    font-size: 1.1rem;
  }

  header .btn {
    font-size: 0.8rem;
    padding: 0.35rem 0.75rem;
  }

  .widget-grid,
  .grid {
    padding: 0 1rem;
    gap: 1.25rem;
  }

  .widget-card,
  .card {
    padding: 1.2rem 1rem;
  }

  .card:hover {
    transform: translateY(-4px) scale(1.02);
  }
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   DARK MODE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
body.dark-mode {
  --bg: #0f172a;
  --text: #f9fafb;
  --muted: #94a3b8;
  --card: #1e293b;
  --border: #334155;
}

body.dark-mode header {
  background: rgba(18, 90, 47, 0.9);
}

body.dark-mode .card,
body.dark-mode .widget-card {
  box-shadow: none;
}
header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  backdrop-filter: blur(14px);
  background: rgba(18, 90, 47, 0.9);
  transition: box-shadow 0.3s ease;
  z-index: 1000;
}

/* Shadow only when scrolled */
header.scrolled {
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
}
header h1 a {
  text-decoration: none;
  color: inherit;             /* keeps the white/green depending on theme */
  transition: opacity 0.2s ease;
}

header h1 a:hover {
  opacity: 0.8;               /* subtle hover feedback */
}

.page-title {
  text-align: center;
  margin-top: 3rem;
  margin-bottom: 3rem;
}

/* Image styling */
.bismillah-img {
  width: clamp(200px, 40vw, 500px); /* responsive */
  max-width: 100%;
  height: auto;
  display: block;
  margin: 0 auto;
  opacity: 1;
  transform: translateY(-10px);
  transition: opacity 1.5s ease, transform 1.5s ease;

  /* IMPORTANT: remove any color or filter */
  filter: none;
}

/* Site name */
.site-name {
  font-family: 'Inter', 'Nunito', sans-serif;
  font-size: clamp(1.8rem, 4vw, 3.5rem);
  font-weight: 700;
  color: #007f3f; /* green text beneath */
  margin-top: 1rem;
  opacity: 1;
  transform: translateY(10px);
  transition: opacity 1.5s ease, transform 1.5s ease;
}

/* Fade-in trigger */
.page-title.loaded .bismillah-img,
.page-title.loaded .site-name {
  opacity: 1;
  transform: translateY(0);
}



</style>

<main class="container">
<div class="page-title">
  <img src="bismillah.png" alt="Bismillah" class="bismillah-img">
  <h2 class="site-name">Noor Al Huda</h2>
</div>


  <!-- Widgets Section -->
  <div id="salahWidget" class="widget-card" data-link="https://nooralhuda.co.uk/salah.html">
  <h4>Salah Widget</h4>
  <p>Click anywhere to view Salah times.</p>
  

      <label>
        <strong>City:</strong>
        <select id="citySelect">
          <option value="London">London, UK</option>
          <option value="Bedford" selected>Bedford, UK</option>
          <option value="Islamabad">Islamabad, Pakistan</option>
          <option value="Tehran">Tehran, Iran</option>
          <option value="Karbala">Karbala, Iraq</option>
          <option value="Najaf">Najaf, Iraq</option>
          <option value="Qom">Qom, Iran</option>
          <option value="Mashhad">Mashhad, Iran</option>
          <option value="Beirut">Beirut, Lebanon</option>
          <option value="Dearborn">Dearborn, USA</option>
          <option value="Mumbai">Mumbai, India</option>
          <option value="Toronto">Toronto, Canada</option>
          <option value="NewYork">New York, USA</option>
          <option value="LosAngeles">Los Angeles, USA</option>
          <option value="Sydney">Sydney, Australia</option>
          <option value="Cairo">Cairo, Egypt</option>
          <option value="Riyadh">Riyadh, Saudi Arabia</option>
        </select>
      </label>
      <ul class="widget-list" id="salahTimes">
        <li>Fajr â€” <span id="fajr">â€”</span></li>
        <li>Sunrise â€” <span id="sunrise">â€”</span></li>
        <li>Dhuhr â€” <span id="dhuhr">â€”</span></li>
        <li>Asr â€” <span id="asr">â€”</span></li>
        <li>Maghrib â€” <span id="maghrib">â€”</span></li>
        <li>Isha â€” <span id="isha">â€”</span></li>
      </ul>
      <a href="salah.html">Full Salah Page</a>
    </article>
</div>
    <!-- Quran Daily Verse Widget -->
<br>

<div id="quranWidget" class="widget-card"id="quranWidget"  data-link="quran.html"> 
  <article
      <h4>Daily Quran Verse</h4>
      <p id="dailyVerse">Loading...</p>
      <a href="quran.html">Read Quran</a>
    </article>
</div>

  </div>


  <!-- Static Cards Section -->
<div class="grid">
    <article class="card" onclick="location.href='hadiths-home.html'">
      <h4>Hadiths</h4>
      <p>Books like Al-Kafi, Tahdhib, and Faqih.</p>
    </article>
    <article class="card" onclick="location.href='duas.html'">
      <h4>Duas</h4>
      <p>Separate duas like Dua Nudbah.</p>
    </article>
    <article class="card" onclick="location.href='calendar.html'">
      <h4>Calendar</h4>
      <p>Islamic dates and Shia events.</p>
    </article>
    <article class="card" onclick="location.href='https://arabic.nooralhuda.co.uk'">
      <h4>Arabic</h4>
      <p>Learn how to read the Quran and more.</p>
    </article>
    <article class="card" onclick="location.href='https://heardle.nooralhuda.co.uk'">
      <h4>Heardle</h4>
      <p>Test your memory with Shia nasheeds.</p>
    </article>
    <article class="card" onclick="location.href='https://tube.nooralhuda.co.uk'">
      <h4>ShiaTube</h4>
      <p>Watch Islamic and Shia videos.</p>
    </article>
</main>


<footer>Â© 2025 Noor Al Huda â€” Personal Islamic Companion (Shia Ithna Ashari)</footer>

<script>
/* === Salah Widget JS === */
const CITY_COUNTRY = {
  London: {city:"London",country:"United Kingdom"},
  Bedford:{city:"Bedford",country:"United Kingdom"},
  Islamabad:{city:"Islamabad",country:"Pakistan"},
  Tehran:{city:"Tehran",country:"Iran"},
  Karbala:{city:"Karbala",country:"Iraq"},
  Najaf:{city:"Najaf",country:"Iraq"},
  Qom:{city:"Qom",country:"Iran"},
  Mashhad:{city:"Mashhad",country:"Iran"},
  Beirut:{city:"Beirut",country:"Lebanon"},
  Dearborn:{city:"Dearborn",country:"United States"},
  Mumbai:{city:"Mumbai",country:"India"},
  Toronto:{city:"Toronto",country:"Canada"},
  NewYork:{city:"New York",country:"United States"},
  LosAngeles:{city:"Los Angeles",country:"United States"},
  Sydney:{city:"Sydney",country:"Australia"},
  Cairo:{city:"Cairo",country:"Egypt"},
  Riyadh:{city:"Riyadh",country:"Saudi Arabia"}
};
const API_METHOD = 0; // Jafari/Shia
const DELAY_MINUTES = 3;

const citySelect = document.getElementById('citySelect');
const salahTimesList = document.getElementById('salahTimes');

async function fetchSalahTimes(cityKey){
  const info = CITY_COUNTRY[cityKey];
  salahTimesList.innerHTML = "<li>Loading...</li>";
  try{
    const resp = await fetch(`https://api.aladhan.com/v1/timingsByCity?city=${encodeURIComponent(info.city)}&country=${encodeURIComponent(info.country)}&method=${API_METHOD}`);
    const data = await resp.json();
    if(data.code !== 200 || !data.data || !data.data.timings) throw new Error("Invalid API response");
    const times = data.data.timings;
    const prayers = ["Fajr","Sunrise","Dhuhr","Asr","Maghrib","Isha"];
    salahTimesList.innerHTML = "";
    prayers.forEach(p=>{
      const li = document.createElement("li");
      const dtLocal = new Date();
      const [hh,mm] = times[p].split(":");
      dtLocal.setHours(hh,mm);
      dtLocal.setMinutes(dtLocal.getMinutes()+DELAY_MINUTES);
      li.textContent = `${p}: ${String(dtLocal.getHours()).padStart(2,'0')}:${String(dtLocal.getMinutes()).padStart(2,'0')}`;
      salahTimesList.appendChild(li);
    });
  }catch(e){
    console.error(e);
    salahTimesList.innerHTML="<li>Failed to load Salah times</li>";
  }
}

// Init Salah widget
(function(){
  const savedCity = localStorage.getItem("salah_city") || "Bedford";
  if(CITY_COUNTRY[savedCity]) citySelect.value = savedCity;
  fetchSalahTimes(citySelect.value);
  citySelect.addEventListener("change",e=>{
    const val = e.target.value;
    localStorage.setItem("salah_city", val);
    fetchSalahTimes(val);
  });
  // Refresh every 10 min
  setInterval(()=>fetchSalahTimes(citySelect.value),10*60*1000);
})();

/* === Quran Widget JS === */
const verseEl = document.getElementById('dailyVerse');
async function fetchQuranVerse(){
  try{
    // Example: use day-of-year modulo total ayahs to select a verse
    const d = new Date();
    const dayOfYear = Math.floor((d - new Date(d.getFullYear(),0,0)) / 86400000);
    const resp = await fetch(`https://api.alquran.cloud/v1/ayah/${(dayOfYear%6236)+1}/editions/quran-uthmani,en.asad`);
    const data = await resp.json();
    if(data.code !== 200 || !data.data) throw new Error("Invalid response");
    const ar = data.data[0].text;
    const en = data.data[1].text;
    verseEl.innerHTML = `<strong>${ar}</strong><br><em>${en}</em>`;
  }catch(e){
    console.error(e);
    verseEl.textContent="Failed to load verse";
  }
}
fetchQuranVerse();
// Refresh daily at midnight
const now = new Date();
const msUntilMidnight = new Date(now.getFullYear(),now.getMonth(),now.getDate()+1)-now;
setTimeout(()=>{
  fetchQuranVerse();
  setInterval(fetchQuranVerse,24*60*60*1000);
},msUntilMidnight);

// Fetch Quran daily verse
async function fetchDailyVerse() {
  try {
    // API: random verse (you can change to a fixed "daily" algorithm if you want)
    const response = await fetch("https://api.alquran.cloud/v1/ayah/random/en.asad"); 
    if (!response.ok) throw new Error("Network response was not ok");
    const data = await response.json();

    const verse = data.data.text;       // Arabic text
    const surahName = data.data.surah.englishName;
    const ayahNumber = data.data.numberInSurah;

    document.getElementById("dailyVerse").textContent =
      `"${verse}" â€” ${surahName} [${ayahNumber}]`;

  } catch (err) {
    console.error(err);
    document.getElementById("dailyVerse").textContent =
      "Could not load verse. Please try again later.";
  }
}

// Call on page load
fetchDailyVerse();

// Optional: refresh daily at midnight
function scheduleDailyRefresh() {
  const now = new Date();
  const millisTillMidnight = new Date(
    now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0, 0
  ) - now;
  setTimeout(() => {
    fetchDailyVerse();
    scheduleDailyRefresh(); // schedule next day
  }, millisTillMidnight);
}
scheduleDailyRefresh();
// Make all cards with data-link clickable
document.querySelectorAll('.widget-card[data-link]').forEach(card => {
  card.addEventListener('click', () => {
    const url = card.getAttribute('data-link');
    window.location.href = url;
  });
});
// Make the widgets clickable
document.querySelectorAll('.widget-card[data-link]').forEach(card => {
  card.addEventListener('click', e => {
    // Allow inner links (<a>) to work normally
    if (e.target.tagName.toLowerCase() !== 'a') {
      window.location.href = card.getAttribute('data-link');
    }
  });
});
// Make all static cards clickable
document.querySelectorAll('.grid .card').forEach(card => {
  card.addEventListener('click', e => {
    // If user clicks an actual link inside, do nothing (let default happen)
    if (e.target.tagName.toLowerCase() !== 'a') {
      const link = card.querySelector('a');
      if (link) {
        window.location.href = link.href;
      }
    }
  });

  // Optional: show pointer on hover
  card.style.cursor = 'pointer';
});

// Use saved city from localStorage, fallback to default
const city = localStorage.getItem('salahCity') || 'Bedford';

// Then use `city` in your existing API call
fetchPrayerTimes(city); // or however your widget fetches the times
  window.addEventListener('scroll', () => {
    const header = document.querySelector('header');
    if (window.scrollY > 10) {
      header.classList.add('scrolled');
    } else {
      header.classList.remove('scrolled');
    }
  });
  window.addEventListener('load', () => {
    document.querySelector('.page-title').classList.add('loaded');
  });
</script>
</body>
</html>
